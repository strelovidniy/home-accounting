@page "/auth/login"
@using Microsoft.AspNetCore.Components.Web
@using MudBlazor

<PageTitle>
    Login
</PageTitle>

<div class="background-container">

<MudGrid Class="mx-auto text-center position-absolute"
         Style="background-color: rgba(255,255,255,1);
            border-radius: 10px;
            box-shadow: 0px 0px 30px 0px rgb(0 0 0 / 50%);
            left:50%;
            max-width: 450px;
            padding: 4rem 4rem 6rem;
            top:50%;
            transform: translate(-50%,-50%);">

    <MudItem xs="12">
        <img src="images/PP-Logo.png" 
             class="d-block mx-auto mb-3 logo" />
    </MudItem>

    <MudItem xs="12">

        <MudForm @onsubmit="OnSubmitAsync">

            <MudGrid>

                <MudItem xs="12">
                    <div class="d-flex justify-center">
                        <MudText>
                            Login with your registered Email Address and Password
                        </MudText>
                    </div>
                </MudItem>

                <MudItem xs="12">
                    <MudTextField T="string" 
                                  Label="Email" 
                                  Variant="Variant.Outlined"
                                  id="email"
                                      Name="email"
                                  @bind-Value="@_model.Email"
                                  For="@(() => _model.Email)"
                                  Required="true"
                                  />

                </MudItem>

                <MudItem xs="12">
                    <MudTextField Label="Password" 
                                  Variant="Variant.Outlined"
                                  @bind-Value="_model.Password" 
                                  For="@(() => _model.Password)"
                                  Name="password"
                                  InputType="@_passwordInput" 
                                  Adornment="Adornment.End" 
                                  AdornmentIcon="@_passwordInputIcon" 
                                  OnAdornmentClick="TogglePasswordVisibility" 
                                  Required="true"
                                   />
                </MudItem>

                <MudItem Class="d-flex justify-center" 
                         xs="12">
                    <MudButton ButtonType="ButtonType.Submit"
                               Variant="Variant.Filled"
                               Color="Color.Primary"
                               Size="Size.Large"
                               class="w-100"
                               Style="background: ">
                        Sign In
                    </MudButton>
                </MudItem>

                <MudItem Class="d-flex justify-center align-center flex-column"
                         xs="12">
                    <MudLink Underline="Underline.None"
                             OnClick="ResetPasswordAsync">
                        Forgot Password?
                    </MudLink>
                </MudItem>

                <MudItem Class="d-flex justify-center align-center flex-column"
                         xs="12">
                    <MudText>
                        Any troubles? Email us.
                    </MudText>

                    <MudLink Href="mailto:helpdesk@poweredprojects.com.au"
                             Underline="Underline.Always">
                        helpdesk@poweredprojects.com.au
                    </MudLink>
                </MudItem>
            </MudGrid>
        </MudForm>
        
    </MudItem>

</MudGrid>
</div>
